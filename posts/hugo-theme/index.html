<!DOCTYPE html>
<html lang="zh">

<head>
<meta charset="utf-8" />
<meta name="author" content="pocoyo" />
<meta name="description" content="Personal blog." />
<meta name="keywords" content="blog, tech" />
<meta name="google-site-verification" content="k8WIOcecDRQPeZ2x500693x2f2W85xDEm87gV1_lWl0" />
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.62.2" />

<link rel="canonical" href="/posts/hugo-theme/">
<link rel="icon" href="https://emacle.github.io/favicon.ico">
<meta property="og:title" content="hugo-dusk theme 模板,utterances评论修改" />
<meta property="og:description" content="Hugo 以 theme 中的静态模板文件来生成静态css文件
  favicon 图标
[params]# 自定义 favicon 变量 ~/hugo/static/favicon.ico -&gt; /public/favicon.ico# ~/hugo/static/ 目录下的东西会自动发布到时 /public 根目录 i.e. ox-hugo/ orgmode 导出的静态图片# 使用绝对路径 防止 /posts/ 页面404 faviconfavicon = &#34;https://emacle.github.io/favicon.ico&#34;head.html 模板头部加入
&lt;link rel=&#34;icon&#34; href=&#34;{{ .Site.Params.favicon }}&#34;&gt;  启用 github utterances 评论, 修改.Type 变量, ox-hugo默认导出目录为 &lt;HUGO_BASE_DIR&gt;/content/posts/ 因此 .Type = &ldquo;posts&rdquo;
cat ~/hugo/themes/hugo-dusk/layouts/partials/postfooter.html&lt;footer class=&#34;post-footer&#34;&gt;&lt;div class=&#34;post-footer-data&#34;&gt;{{ partial &#34;tags.html&#34; . }}&lt;!--修改默认日期显示格式 --&gt;&lt;!--&lt;div class=&#34;date&#34;&gt; {{ ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/hugo-theme/" />
<meta property="article:published_time" content="2020-01-16T09:30:00+08:00" />
<meta property="article:modified_time" content="2020-01-16T09:30:00+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="hugo-dusk theme 模板,utterances评论修改"/>
<meta name="twitter:description" content="Hugo 以 theme 中的静态模板文件来生成静态css文件
  favicon 图标
[params]# 自定义 favicon 变量 ~/hugo/static/favicon.ico -&gt; /public/favicon.ico# ~/hugo/static/ 目录下的东西会自动发布到时 /public 根目录 i.e. ox-hugo/ orgmode 导出的静态图片# 使用绝对路径 防止 /posts/ 页面404 faviconfavicon = &#34;https://emacle.github.io/favicon.ico&#34;head.html 模板头部加入
&lt;link rel=&#34;icon&#34; href=&#34;{{ .Site.Params.favicon }}&#34;&gt;  启用 github utterances 评论, 修改.Type 变量, ox-hugo默认导出目录为 &lt;HUGO_BASE_DIR&gt;/content/posts/ 因此 .Type = &ldquo;posts&rdquo;
cat ~/hugo/themes/hugo-dusk/layouts/partials/postfooter.html&lt;footer class=&#34;post-footer&#34;&gt;&lt;div class=&#34;post-footer-data&#34;&gt;{{ partial &#34;tags.html&#34; . }}&lt;!--修改默认日期显示格式 --&gt;&lt;!--&lt;div class=&#34;date&#34;&gt; {{ ."/>


<meta itemprop="name" content="hugo-dusk theme 模板,utterances评论修改">
<meta itemprop="description" content="Hugo 以 theme 中的静态模板文件来生成静态css文件
  favicon 图标
[params]# 自定义 favicon 变量 ~/hugo/static/favicon.ico -&gt; /public/favicon.ico# ~/hugo/static/ 目录下的东西会自动发布到时 /public 根目录 i.e. ox-hugo/ orgmode 导出的静态图片# 使用绝对路径 防止 /posts/ 页面404 faviconfavicon = &#34;https://emacle.github.io/favicon.ico&#34;head.html 模板头部加入
&lt;link rel=&#34;icon&#34; href=&#34;{{ .Site.Params.favicon }}&#34;&gt;  启用 github utterances 评论, 修改.Type 变量, ox-hugo默认导出目录为 &lt;HUGO_BASE_DIR&gt;/content/posts/ 因此 .Type = &ldquo;posts&rdquo;
cat ~/hugo/themes/hugo-dusk/layouts/partials/postfooter.html&lt;footer class=&#34;post-footer&#34;&gt;&lt;div class=&#34;post-footer-data&#34;&gt;{{ partial &#34;tags.html&#34; . }}&lt;!--修改默认日期显示格式 --&gt;&lt;!--&lt;div class=&#34;date&#34;&gt; {{ .">
<meta itemprop="datePublished" content="2020-01-16T09:30:00&#43;08:00" />
<meta itemprop="dateModified" content="2020-01-16T09:30:00&#43;08:00" />
<meta itemprop="wordCount" content="311">



<meta itemprop="keywords" content="hugo,utterances,theme," />

<link rel="stylesheet" href="/css/layout.css" />


<link rel="stylesheet" href="/css/default-dark.css" />




<title>


     hugo-dusk theme 模板,utterances评论修改 

</title>

</head>


<body>
<div class="main">
<header>

<div class="header-bar">

  <nav>
    <div class="siteTitle">
      <a href="/">~振鹭于飞~</a>
    </div> 

    
    
    <a class="nav-item" href="/posts/"><div class="nav-item-title">Posts</div></a>
    
    <a class="nav-item" href="/tags/"><div class="nav-item-title">Tags</div></a>
    

  </nav>

  
<div class="social-links-header">

  

  
  <a href="https://github.com/emacle" target="_blank"><div class="social-link">gh</div></a>
  

  

  

  

</div>


</div>


</header>


<article class="post">
    <h1 class="title"> hugo-dusk theme 模板,utterances评论修改 </h1>
    <div class="content"> <p>Hugo 以 theme 中的静态模板文件来生成静态css文件</p>
<ol>
<li>
<p><strong>favicon</strong> 图标</p>
<div class="highlight"><pre style="color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">[<span style="color:#fb660a">params</span>]
# <span style="color:#fb660a">自定义</span> <span style="color:#fb660a">favicon</span> <span style="color:#fb660a">变量</span> <span style="color:#fb660a">~/hugo/static/favicon.ico</span> <span style="color:#fb660a">-&gt;</span> <span style="color:#fb660a">/public/favicon.ico</span>
# <span style="color:#fb660a">~/hugo/static/</span> <span style="color:#fb660a">目录下的东西会自动发布到时</span> <span style="color:#fb660a">/public</span> <span style="color:#fb660a">根目录</span> <span style="color:#fb660a">i.e.</span> <span style="color:#fb660a">ox-hugo/</span> <span style="color:#fb660a">orgmode</span> <span style="color:#fb660a">导出的静态图片</span>
# <span style="color:#fb660a">使用绝对路径</span> <span style="color:#fb660a">防止</span> <span style="color:#fb660a">/posts/</span> <span style="color:#fb660a">页面404</span> <span style="color:#fb660a">favicon</span>
<span style="color:#fb660a">favicon</span> <span style="color:#ff0086;font-weight:bold">=</span> <span style="color:#0086d2">&#34;</span><span style="color:#0086d2">https://emacle.github.io/favicon.ico</span><span style="color:#0086d2">&#34;</span>
</code></pre></div><p>head.html 模板头部加入</p>
<div class="highlight"><pre style="color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">&lt;link rel=&#34;icon&#34; href=&#34;{{ .Site.Params.favicon }}&#34;&gt;
</code></pre></div></li>
<li>
<p>启用 github <strong>utterances</strong> 评论, 修改.Type 变量, ox-hugo默认导出目录为 <code>&lt;HUGO_BASE_DIR&gt;/content/posts/</code> 因此 .Type = &ldquo;posts&rdquo;</p>
<div class="highlight"><pre style="color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">cat ~/hugo/themes/hugo-dusk/layouts/partials/postfooter.html
</code></pre></div><div class="highlight"><pre style="color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#fb660a;font-weight:bold">footer</span> <span style="color:#ff0086;font-weight:bold">class</span>=<span style="color:#0086d2">&#34;post-footer&#34;</span>&gt;

  &lt;<span style="color:#fb660a;font-weight:bold">div</span> <span style="color:#ff0086;font-weight:bold">class</span>=<span style="color:#0086d2">&#34;post-footer-data&#34;</span>&gt;
       {{ partial &#34;tags.html&#34; . }}
       <span style="color:#080;background-color:#0f140f;font-style:italic">&lt;!--</span><span style="color:#080;background-color:#0f140f;font-style:italic"> 修改默认日期显示格式 </span><span style="color:#080;background-color:#0f140f;font-style:italic">--&gt;</span>
       <span style="color:#080;background-color:#0f140f;font-style:italic">&lt;!--</span><span style="color:#080;background-color:#0f140f;font-style:italic"> &lt;div class=&#34;date&#34;&gt; {{ .Date.Format &#34;2006</span><span style="color:#080;background-color:#0f140f;font-style:italic">-</span><span style="color:#080;background-color:#0f140f;font-style:italic">01</span><span style="color:#080;background-color:#0f140f;font-style:italic">-</span><span style="color:#080;background-color:#0f140f;font-style:italic">01&#34; }} &lt;/div&gt; </span><span style="color:#080;background-color:#0f140f;font-style:italic">--&gt;</span>
       &lt;<span style="color:#fb660a;font-weight:bold">div</span> <span style="color:#ff0086;font-weight:bold">class</span>=<span style="color:#0086d2">&#34;date&#34;</span>&gt; {{ .Date.Format &#34;Mon, 02 Jan 2006 15:04:05 MST&#34; }} &lt;/<span style="color:#fb660a;font-weight:bold">div</span>&gt;
    {{if or .Params.categories .Params.series}}
    &lt;<span style="color:#fb660a;font-weight:bold">hr</span>&gt;
       {{ partial &#34;categories.html&#34; . }}
       {{ partial &#34;series.html&#34; . }}
    {{end}}
  &lt;/<span style="color:#fb660a;font-weight:bold">div</span>&gt;
&lt;/<span style="color:#fb660a;font-weight:bold">footer</span>&gt;
    <span style="color:#080;background-color:#0f140f;font-style:italic">&lt;!--</span><span style="color:#080;background-color:#0f140f;font-style:italic"> .Type 变量 自动分配或继承前端 https://gohugo.io/variables/page/ Page Variables .Type </span><span style="color:#080;background-color:#0f140f;font-style:italic">--&gt;</span>
    <span style="color:#080;background-color:#0f140f;font-style:italic">&lt;!--</span><span style="color:#080;background-color:#0f140f;font-style:italic"> new file created at content/posts/new</span><span style="color:#080;background-color:#0f140f;font-style:italic">-</span><span style="color:#080;background-color:#0f140f;font-style:italic">post.md will automatically be assigned the type posts </span><span style="color:#080;background-color:#0f140f;font-style:italic">--&gt;</span>
    <span style="color:#080;background-color:#0f140f;font-style:italic">&lt;!--</span><span style="color:#080;background-color:#0f140f;font-style:italic"> 测试 .Type 变量输出 以双大括号 变量输出 </span><span style="color:#080;background-color:#0f140f;font-style:italic">--&gt;</span>
    <span style="color:#080;background-color:#0f140f;font-style:italic">&lt;!--</span><span style="color:#080;background-color:#0f140f;font-style:italic">  if eq .Type &#34;post&#34;  </span><span style="color:#080;background-color:#0f140f;font-style:italic">--&gt;</span>
{{ if eq .Type &#34;posts&#34; }}
  {{ template &#34;_internal/disqus.html&#34; . }}
  {{ template &#34;partials/utterances.html&#34; . }}
{{ end }}
</code></pre></div></li>
<li>
<p><strong>代码高亮</strong></p>
<div class="highlight"><pre style="color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#080;background-color:#0f140f;font-style:italic"># Configure syntax highlight</span>
[markup]
[markup.highlight]
<span style="color:#fb660a">style</span> = <span style="color:#0086d2">&#34;fruity&#34;</span> <span style="color:#080;background-color:#0f140f;font-style:italic"># dark themes: monokai, api, fruity, native, rrt, swapoff</span>
</code></pre></div><div class="highlight"><pre style="color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(use-package <span style="color:#fb660a">magit</span>
  :ensure <span style="color:#fb660a">t</span>
  :about <span style="color:#fb660a">A</span> <span style="color:#fb660a">Git</span> <span style="color:#fb660a">porcelain</span> <span style="color:#fb660a">inside</span> <span style="color:#fb660a">Emacs</span>
  :homepage <span style="color:#fb660a">https://github.com/magit/magit</span>
  :info (<span style="color:#fb660a">info</span> <span style="color:#0086d2">&#34;</span><span style="color:#0086d2">(magit) Top</span><span style="color:#0086d2">&#34;</span>)
  :bind ((<span style="color:#0086d2">&#34;</span><span style="color:#0086d2">C-x g</span><span style="color:#0086d2">&#34;</span>   . <span style="color:#fb660a">magit-status</span>))
  :hook (<span style="color:#fb660a">company-mode</span> . <span style="color:#fb660a">company-box-mode</span>)
  :config
  (setq-default <span style="color:#fb660a">magit-diff-refine-hunk</span> <span style="color:#0086d2">t</span>)
  (setq <span style="color:#fb660a">magit-save-repository-buffers</span> <span style="color:#0086d2">&#39;dontask</span>)
  <span style="color:#080;background-color:#0f140f;font-style:italic">;; M-x `magit-list-repositories&#39;</span>
  (setq <span style="color:#fb660a">magit-repository-directories</span>
   &#39;((<span style="color:#0086d2">&#34;</span><span style="color:#0086d2">~/.emacs.d</span><span style="color:#0086d2">&#34;</span>                . <span style="color:#0086f7;font-weight:bold">0</span>)
     (<span style="color:#0086d2">&#34;</span><span style="color:#0086d2">~/.emacs.d/straight/repos</span><span style="color:#0086d2">&#34;</span> . <span style="color:#0086f7;font-weight:bold">1</span>)
     (<span style="color:#0086d2">&#34;</span><span style="color:#0086d2">~/src</span><span style="color:#0086d2">&#34;</span>                     . <span style="color:#0086f7;font-weight:bold">1</span>))))
</code></pre></div><div class="highlight"><pre style="color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#ff0007;background-color:#0f140f;font-weight:bold;font-style:italic">#!/bin/bash
</span><span style="color:#ff0007;background-color:#0f140f;font-weight:bold;font-style:italic"></span><span style="color:#080;background-color:#0f140f;font-style:italic"># 以下配置信息请自己修改</span>
<span style="color:#fb660a">mysql_user</span>=<span style="color:#0086d2">&#34;USER&#34;</span> <span style="color:#080;background-color:#0f140f;font-style:italic">#MySQL备份用户</span>
<span style="color:#fb660a">mysql_password</span>=<span style="color:#0086d2">&#34;PASSWORD&#34;</span> <span style="color:#080;background-color:#0f140f;font-style:italic">#MySQL备份用户的密码</span>
<span style="color:#fb660a">mysql_host</span>=<span style="color:#0086d2">&#34;localhost&#34;</span>
<span style="color:#fb660a">mysql_port</span>=<span style="color:#0086d2">&#34;3306&#34;</span>
<span style="color:#fb660a">mysql_charset</span>=<span style="color:#0086d2">&#34;utf8&#34;</span> <span style="color:#080;background-color:#0f140f;font-style:italic">#MySQL编码</span>
<span style="color:#fb660a">backup_db_arr</span>=(<span style="color:#0086d2">&#34;db1&#34;</span> <span style="color:#0086d2">&#34;db2&#34;</span>) <span style="color:#080;background-color:#0f140f;font-style:italic">#要备份的数据库名称，多个用空格分开隔开 如(&#34;db1&#34; &#34;db2&#34; &#34;db3&#34;)</span>
<span style="color:#fb660a">backup_location</span>=/opt/mysql <span style="color:#080;background-color:#0f140f;font-style:italic">#备份数据存放位置，末尾请不要带&#34;/&#34;,此项可以保持默认，程序会自动创建文件夹</span>
<span style="color:#fb660a">expire_backup_delete</span>=<span style="color:#0086d2">&#34;ON&#34;</span> <span style="color:#080;background-color:#0f140f;font-style:italic">#是否开启过期备份删除 ON为开启 OFF为关闭</span>
<span style="color:#fb660a">expire_days</span>=<span style="color:#0086f7;font-weight:bold">3</span> <span style="color:#080;background-color:#0f140f;font-style:italic">#过期时间天数 默认为三天，此项只有在expire_backup_delete开启时有效</span>

<span style="color:#080;background-color:#0f140f;font-style:italic"># 连接到mysql数据库，无法连接则备份退出</span>
mysql -h<span style="color:#fb660a">$mysql_host</span> -P<span style="color:#fb660a">$mysql_port</span> -u<span style="color:#fb660a">$mysql_user</span> -p<span style="color:#fb660a">$mysql_password</span> <span style="color:#0086d2">&lt;&lt;end
</span><span style="color:#0086d2">use mysql;
</span><span style="color:#0086d2">select host,user from user where user=&#39;root&#39; and host=&#39;localhost&#39;;
</span><span style="color:#0086d2">exit
</span><span style="color:#0086d2">end</span>

<span style="color:#fb660a">flag</span>=<span style="color:#0086d2">`</span>echo <span style="color:#fb660a">$?</span><span style="color:#0086d2">`</span>
<span style="color:#fb660a;font-weight:bold">if</span> [ <span style="color:#fb660a">$flag</span> != <span style="color:#0086d2">&#34;0&#34;</span> ]; <span style="color:#fb660a;font-weight:bold">then</span>
echo <span style="color:#0086d2">&#34;ERROR:Can&#39;t connect mysql server! backup stop!&#34;</span>
exit
<span style="color:#fb660a;font-weight:bold">else</span>
echo <span style="color:#0086d2">&#34;All database backup success! Thank you!&#34;</span>
exit
<span style="color:#fb660a;font-weight:bold">fi</span>
</code></pre></div></li>
<li>
<p>页面底部 &ldquo;Powered by&rdquo; 没有参数可配置取消, 可grep定位文件位置 注释掉</p>
<div class="highlight"><pre style="color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">cat ~/hugo/themes/hugo-dusk/layouts/partials/footer.html
</code></pre></div></li>
<li>
<p>copyright 部分可以 config.toml 里配置后启用</p>
<div class="highlight"><pre style="color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">copyright = &#34;Copyright (c) 2020, all rights reserved.&#34;
</code></pre></div></li>
</ol>
 </div>
    <footer class="post-footer">

  <div class="post-footer-data">
            
<div class="tags">
  
    
      <div class="tag">
        <a href="/tags/hugo">#hugo</a>
      </div>
    
      <div class="tag">
        <a href="/tags/utterances">#utterances</a>
      </div>
    
      <div class="tag">
        <a href="/tags/theme">#theme</a>
      </div>
    
  
</div>

	    
	    
	    <div class="date"> Thu, 16 Jan 2020 09:30:00 CST </div>

    
  </div>
</footer>
    
    
    
    

  
  

<script src="https://utteranc.es/client.js"
        repo="emacle/utterances"
        issue-term="pathname"
        theme="github-dark"
	label="hugo"
        crossorigin="anonymous"
        async>
</script>




</article>

  <footer>

  <div class="social-links-footer">

  

  
  <a href="https://github.com/emacle" target="_blank"><div class="social-link">GitHub</div></a>
  

  <span id="busuanzi_container_site_uv" style="display:none">
    <span id="busuanzi_value_site_uv"></span>
  </span>

  

  

  

  <div class="social-link">
  <a href="/index.xml" target="_blank">RSS</a>
  </div>
  <span id="busuanzi_container_site_pv" style="display:none">
    <span id="busuanzi_value_site_pv"></span> | <span id="busuanzi_value_page_pv"></span>
  </span>

</div>


  <div class="copyright">  </div>

  
  
  

  
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</div> 

</body>
</html>

